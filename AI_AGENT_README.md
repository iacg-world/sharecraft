# AI Agent 低代码页面生成功能

## 功能概述

为低代码平台新增了AI Agent功能，能够通过自然语言对话自动生成JSON Schema格式的页面数据。用户只需要描述想要的页面效果，AI就能智能生成相应的页面组件结构。

## 主要特性

### 🤖 智能对话界面
- 现代化的聊天UI设计
- 支持快捷键发送 (Ctrl+Enter)
- 实时显示AI思考状态
- 对话历史记录管理

### 🎯 预定义页面模板
系统内置了多种常用页面模板，支持关键词匹配：

1. **登录页面** (`login`)
   - 关键词：登录、登陆、login、用户名、密码、账号
   - 生成：标题、用户名输入框、密码输入框、登录按钮

2. **产品展示** (`product`)
   - 关键词：产品、商品、product、展示、卡片、card
   - 生成：产品图片、标题、描述、价格、购买按钮

3. **联系我们** (`contact`)
   - 关键词：联系、联系我们、contact、地址、电话、邮箱
   - 生成：标题、地址、电话、邮箱、工作时间

4. **新闻文章** (`news`)
   - 关键词：新闻、文章、news、article、资讯、博客
   - 生成：文章标题、发布信息、配图、摘要、阅读链接

### 🎨 智能样式解析
AI能够解析用户输入中的样式要求：
- **颜色识别**：支持中文颜色名和HEX颜色值
- **字体大小**：自动识别像素值和号数
- **布局位置**：识别左、右、居中等对齐方式

### 📝 自定义组件生成
如果没有匹配到预定义模板，AI会根据用户描述生成自定义组件：
- 标题组件
- 按钮组件
- 图片组件
- 文本内容组件

## 使用方法

### 1. 打开AI助手
在编辑器右侧面板中点击"AI助手"标签页

### 2. 描述需求
在输入框中描述你想要的页面设计，例如：
- "创建一个简单的登录页面"
- "设计一个产品展示卡片"
- "制作一个联系我们页面"
- "生成一个红色的标题和蓝色的按钮"

### 3. 应用结果
AI生成页面结构后，点击"应用到编辑器"按钮即可将组件添加到画布

### 4. 调整优化
应用后可以在编辑器中进一步调整组件的位置、样式等属性

## 示例对话

### 示例1：登录页面
**用户**：创建一个简单的登录页面
**AI**：根据您的描述，我为您生成了一个登录页面。页面包含了6个组件，布局合理，样式美观...

### 示例2：产品卡片  
**用户**：设计一个产品展示卡片，包含图片和价格
**AI**：根据您的描述，我为您生成了一个产品展示页面。页面包含了5个组件...

### 示例3：自定义样式
**用户**：创建一个红色的大标题，字体24px，居中显示
**AI**：根据您的描述，我为您生成了1个页面组件。这些组件根据您的需求进行了初步配置...

## 技术实现

### 核心文件
- `src/components/AIAgent.vue` - AI对话界面组件
- `src/utils/aiSchemaGenerator.ts` - 自然语言处理和页面生成逻辑
- `src/views/EditorView.vue` - 编辑器主界面集成
- `src/store/editor.ts` - 状态管理更新

### 关键技术
- **关键词匹配算法**：基于预定义词库进行模板匹配
- **正则表达式解析**：提取样式信息（颜色、字体、位置等）
- **JSON Schema生成**：动态生成符合平台规范的组件数据
- **Vue3 Composition API**：响应式状态管理和组件交互

### 数据流程
1. 用户输入自然语言描述
2. AI解析输入，匹配预定义模板或生成自定义组件
3. 生成ComponentData[]格式的JSON Schema
4. 通过Vuex store更新编辑器状态
5. 编辑器画布实时渲染新组件

## 扩展可能

### 近期扩展
- 支持更多页面模板（表单、导航、footer等）
- 增强样式解析能力（边框、阴影、渐变等）
- 添加布局智能优化
- 支持组件间关系推理

### 远期规划
- 接入真实AI模型API（OpenAI、Claude等）
- 支持图片描述生成页面
- 智能A/B测试建议
- 页面性能优化建议

## 注意事项

1. **当前版本使用模拟AI**：实际部署时可接入真实AI服务
2. **组件样式限制**：生成的组件样式基于平台现有组件能力
3. **位置可能重叠**：生成后可能需要手动调整组件位置
4. **内容为示例**：生成的文本内容为占位符，需要用户替换为实际内容

## 总结

AI Agent功能为低代码平台带来了强大的自动化页面生成能力，大大降低了页面设计的门槛，提高了开发效率。通过自然语言交互，用户可以快速创建各种页面布局，并在此基础上进行精细化调整。