# Figma设计稿一键导入功能使用指南

## 功能概述

ShareCraft现在支持Figma设计稿一键导入功能，可以将Figma中的设计直接转换为ShareCraft页面组件，大大提升设计到开发的效率。

## 功能特点

✅ **一键导入**: 只需粘贴Figma链接即可导入设计稿  
✅ **智能转换**: 自动将Figma元素转换为对应的ShareCraft组件  
✅ **预览确认**: 导入前可预览所有识别的组件  
✅ **历史记录**: 保存导入历史，方便重复使用  
✅ **配置管理**: 统一管理API令牌和导入设置  

## 使用步骤

### 1. 配置Figma访问令牌

在使用功能之前，需要先配置Figma API访问令牌：

1. 访问 [Figma Developer Settings](https://www.figma.com/developers/api#access-tokens)
2. 点击 "Create new personal access token"
3. 输入令牌名称（如"ShareCraft Import"）
4. 复制生成的访问令牌
5. 在ShareCraft编辑器中：
   - 点击右侧面板的"Figma导入"标签
   - 点击"配置"按钮
   - 粘贴访问令牌并保存

### 2. 导入Figma设计稿

#### 方法一：在编辑器中导入

1. 打开ShareCraft编辑器
2. 点击右侧面板的"Figma导入"标签
3. 粘贴Figma文件链接到输入框
4. 点击"立即导入"按钮
5. 在预览对话框中确认要导入的组件
6. 点击"确认导入到编辑器"

#### 方法二：使用增强AI助手

1. 点击右侧面板的"AI助手"标签
2. 切换到"Figma导入"选项卡
3. 进行相同的导入操作

### 3. 支持的Figma URL格式

- 完整文件链接: `https://www.figma.com/file/[fileId]/[filename]`
- 带节点ID的链接: `https://www.figma.com/file/[fileId]/[filename]?node-id=[nodeId]`

### 4. 组件转换规则

| Figma元素类型 | ShareCraft组件 | 说明 |
|--------------|---------------|------|
| TEXT | c-text | 文本内容、样式、位置等 |
| RECTANGLE | c-text | 转为带背景色的文本组件 |
| ELLIPSE | c-text | 转为圆形背景的文本组件 |
| FRAME/GROUP | - | 作为容器，递归处理子元素 |
| COMPONENT | - | 递归处理组件内容 |

## 高级功能

### 智能提示系统

系统会根据当前状态提供智能提示：
- 配置提醒：未配置令牌时提示配置
- 操作建议：提供常用操作的快捷方式
- 切换引导：在AI对话和Figma导入间切换

### 导入历史管理

- 自动保存最近10次导入记录
- 点击历史记录可快速重新导入
- 显示导入时间和组件数量

### 批量操作

- 支持导入整个Figma文件或特定画板
- 批量添加组件到当前页面
- 保持原有设计的相对位置

## 注意事项

### 权限要求
- 需要Figma文件的查看权限
- 公开文件可直接访问，私有文件需要访问权限

### 支持限制
- 目前主要支持文本和基础形状
- 复杂的组件会转换为简化版本
- 图片需要单独处理

### 性能优化
- 大型设计文件可能需要较长时间处理
- 建议使用具体的节点ID来导入特定部分
- 复杂设计建议分批导入

## 故障排除

### 常见问题

**Q: 提示"无效的Figma URL格式"**  
A: 请确保使用正确的Figma文件链接格式，链接应包含文件ID

**Q: 提示"Figma API请求失败"**  
A: 检查访问令牌是否正确，以及是否有文件访问权限

**Q: 导入的组件位置不正确**  
A: Figma的坐标系统和ShareCraft可能有差异，导入后可手动调整

**Q: 某些元素没有被导入**  
A: 目前不是所有Figma元素都支持，复杂元素会被跳过

### 调试方法

1. 打开浏览器开发者工具
2. 查看Console面板的错误信息
3. 检查Network面板的API请求状态
4. 确认Figma文件的访问权限

## 最佳实践

### 设计准备
1. 保持设计文件的层级结构清晰
2. 为重要元素设置有意义的名称
3. 避免过于复杂的嵌套结构

### 导入策略
1. 先导入主要布局元素
2. 再导入细节内容
3. 分批导入复杂页面

### 后续调整
1. 导入后检查元素位置和样式
2. 根据需要调整组件属性
3. 添加交互和动效

## 更新日志

### v1.0.0 (2024-01-XX)
- ✅ 基础Figma文件导入功能
- ✅ 文本和基础形状支持
- ✅ 预览和确认机制
- ✅ 访问令牌管理
- ✅ 导入历史记录

### 计划中的功能
- 🔄 图片自动下载和处理
- 🔄 更多Figma元素类型支持
- 🔄 样式库同步
- 🔄 团队协作功能

## 技术支持

如果在使用过程中遇到问题，请：

1. 查看本文档的故障排除部分
2. 检查Figma API的官方文档
3. 在项目Issues中提交问题反馈

---

**享受从设计到开发的无缝体验！** 🚀